{"ast":null,"code":"import _slicedToArray from\"D:/Final_Project/PGDAC/PGDAC-Final-E-Learning-Frontend/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState}from'react';import{Navigate,useNavigate}from'react-router';import{Link}from'react-router-dom';import{toast}from'react-toastify';import Navibar from'../../Components/Navbar/Navibar';import{URL}from'../../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ResetPassword(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),dataAdded=_useState6[0],setDataAdded=_useState6[1];var navigate=useNavigate();var updatepassword=function updatepassword(event){event.preventDefault();console.log(\"sending\");var body={email:email,password:password};var url=\"\".concat(URL,\"/user/updatePassword\");axios.post(url,body).then(function(response){var result=response.data;if(result['status']=='success'){// get the data sent by server\nvar _result$data=result['data'],user_id=_result$data.user_id,_email=_result$data.email,_password=_result$data.password,role=_result$data.role;// persist the logged in user's information for future use\nsessionStorage['id']=user_id;sessionStorage['email']=_email;sessionStorage['password']=_password;sessionStorage['role']=role;sessionStorage['loginStatus']=1;}toast.success(\"Password Reset Successfully\");navigate(\"/signin\");}).catch(function(error){console.log('Something went wrong',error);setDataAdded(\"Invalid Password\");});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navibar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"login-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-app-wrapper\",children:[dataAdded&&/*#__PURE__*/_jsx(\"h3\",{class:\"alert alartbox alert-primary\",role:\"alert\",children:dataAdded}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Enter New Password\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",placeholder:\"Enter Password\",name:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"submit\",onClick:updatepassword,children:\"Submit\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Login\"})})]})]})})]});}export default ResetPassword;","map":{"version":3,"sources":["D:/Final_Project/PGDAC/PGDAC-Final-E-Learning-Frontend/my-app/src/Pages/ForgotPassword/ResetPassword.jsx"],"names":["axios","React","useState","Navigate","useNavigate","Link","toast","Navibar","URL","ResetPassword","email","setEmail","password","setPassword","dataAdded","setDataAdded","navigate","updatepassword","event","preventDefault","console","log","body","url","post","then","response","result","data","user_id","role","sessionStorage","success","catch","error","e","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react'\r\nimport { Navigate, useNavigate } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport Navibar from '../../Components/Navbar/Navibar';\r\nimport { URL } from '../../config'\r\n\r\nfunction ResetPassword() {\r\n\r\n    const [email , setEmail] =useState('')\r\n    const [password , setPassword] =useState('')\r\n    const [dataAdded, setDataAdded] = useState('');\r\n\r\n    const navigate = useNavigate();\r\n\r\n\r\nconst updatepassword = (event)=>{\r\n    event.preventDefault();\r\n    console.log(\"sending\",);\r\n\r\n    const body = {\r\n        email,\r\n         password,\r\n    }\r\n    const url = `${URL}/user/updatePassword`\r\n\r\n    axios.post(url,body).then((response) =>{\r\n        const result = response.data\r\n        if (result['status'] == 'success') {\r\n            // get the data sent by server\r\n         const { user_id, email, password, role } = result['data']\r\n        // persist the logged in user's information for future use\r\n         sessionStorage['id'] = user_id\r\n         sessionStorage['email'] = email\r\n         sessionStorage['password'] = password\r\n         sessionStorage['role'] =role\r\n         sessionStorage['loginStatus'] = 1\r\n        }\r\n\r\n        toast.success(\"Password Reset Successfully\");\r\n        navigate(\"/signin\")\r\n    }).catch(error => {\r\n        console.log('Something went wrong', error);\r\n        setDataAdded(\"Invalid Password\");\r\n    });\r\n\r\n\r\n}\r\n\r\n  return (\r\n    <>\r\n    <Navibar/>\r\n   \r\n   <div className='login-wrapper'>\r\n       <div className='login-app-wrapper'>\r\n       {dataAdded && <h3 class=\"alert alartbox alert-primary\" role=\"alert\">{dataAdded}</h3>\r\n    }\r\n           <div>\r\n               <h2 className='title'>Enter New Password</h2>\r\n              </div>\r\n           <br/>\r\n           \r\n           <form className='form-wrapper'>\r\n               <div className='email'>\r\n                   <label className='label'>New Password</label>\r\n                   <input className='input' type='password' placeholder='Enter Password' name='password' value={password} onChange={(e)=> setPassword(e.target.value    )} required/>\r\n                   \r\n               </div>\r\n               <div>\r\n           <button className=\"submit\" onClick={updatepassword}>\r\n             Submit\r\n           </button>\r\n         </div>\r\n               <div>\r\n               <Link to=\"/signin\">Login</Link>\r\n               </div>\r\n           </form>\r\n       </div>\r\n   </div>\r\n   </>\r\n  )\r\n}\r\n\r\nexport default ResetPassword"]},"metadata":{},"sourceType":"module"}