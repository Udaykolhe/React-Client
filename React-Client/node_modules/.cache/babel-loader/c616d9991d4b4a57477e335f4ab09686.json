{"ast":null,"code":"import _slicedToArray from\"D:/Final_Project/PGDAC/PGDAC-Final-E-Learning-Frontend/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import Image from 'react-bootstrap/Image';\n// import image from 'D:/SigninSigupFormats/SigninSigupFormat/my-app/src/Pages/images/eler.jpg';\nimport'bootstrap/dist/css/bootstrap.min.css';import{useState}from'react';import{Link}from'react-router-dom';import'./index.css';import{toast}from'react-toastify';import axios from'axios';import{useNavigate}from'react-router';import{URL}from'../../config';import'./index.css';import Navibar from'../../Components/Navbar/Navibar';import\"../Signin/style.css\";import validation from\"../Signin/validation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Signin=function Signin(){// const [user_id, setUserId] = useState('')\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),role=_useState6[0],setRole=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),errors=_useState8[0],setErrors=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),dataIsCorrect=_useState10[0],setDataIsCorrect=_useState10[1];var navigate=useNavigate();var signinUser=function signinUser(event){event.preventDefault();setDataIsCorrect(true);setErrors(validation(event.target.value));{var body={email:email,password:password,role:role};// url to make signin api call\nvar url=\"\".concat(URL,\"/user/signin\");// make api call using axios\naxios.post(url,body).then(function(response){// get the server result\nvar result=response.data;console.log(result);if(result['status']=='success'){toast.success('Welcome to the application');// get the data sent by server\nvar _result$data=result['data'],user_id=_result$data.user_id,_email=_result$data.email,_password=_result$data.password,_role=_result$data.role;// persist the logged in user's information for future use\nsessionStorage['id']=user_id;sessionStorage['email']=_email;sessionStorage['password']=_password;sessionStorage['loginStatus']=1;// navigate to home component\nif(_role==='STUDENT'){console.log('usercourses');navigate(\"/usercourses\");}else if(_role==='ADMIN'){navigate('/admin');}}else{toast.error('Invalid user name or password');}});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navibar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"login-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-app-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Log in\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",onChange:function onChange(e){setEmail(e.target.value);}}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",onChange:function onChange(e){setPassword(e.target.value);}}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",onClick:signinUser,children:\"Log in\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgotpassword\",children:\"forget password?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[\"New User? Register here \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Register Now\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})})]})]})})]});// return (\n//   <div class=\"signin\">\n//     <Navibar />\n//     <h1>Signin</h1>\n//     <br></br>\n//     <div className=\"row\">\n//       <div className=\"col\"></div>\n//       <div className=\"col\">\n//         <div className=\"form shadow\">\n//           <div className=\"mb-3\">\n//             <label htmlFor=\"\" className=\"label-control\">\n//               Email address\n//             </label>\n//             <input\n//               onChange={(e) => {\n//                 setEmail(e.target.value)\n//               }}\n//               type=\"text\"\n//               className=\"form-control\"\n//             />\n//           </div>\n//           <div className=\"mb-3\">\n//             <label htmlFor=\"\" className=\"label-control\">\n//               Password\n//             </label>\n//             <input\n//               onChange={(e) => {\n//                 setPassword(e.target.value)\n//               }}\n//               type=\"password\"\n//               className=\"form-control\"\n//             />\n//           </div>\n//           <div className=\"mb-3\">\n//             <div>\n//               No account yet? <Link to=\"/signup\">Signup here</Link>\n//             </div>\n//             <br></br>\n//             <div>\n//               <Link to=\"/forgotpassword\">forgot password? </Link>\n//             </div>\n//             <br></br>\n//             <div>\n//               <Link to=\"/\">Home Page</Link>\n//             </div>\n//             <br></br>\n//             <button onClick={signinUser} className=\"btn btn-primary\">\n//               Signin\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//       <div className=\"col\"></div>\n//     </div>\n//   </div>\n// )\n};export default Signin;","map":{"version":3,"sources":["D:/Final_Project/PGDAC/PGDAC-Final-E-Learning-Frontend/my-app/src/Pages/Signin/index.js"],"names":["useState","Link","toast","axios","useNavigate","URL","Navibar","validation","Signin","email","setEmail","password","setPassword","role","setRole","errors","setErrors","dataIsCorrect","setDataIsCorrect","navigate","signinUser","event","preventDefault","target","value","body","url","post","then","response","result","data","console","log","success","user_id","sessionStorage","error","e"],"mappings":"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","sourcesContent":["// import Image from 'react-bootstrap/Image';\r\n// import image from 'D:/SigninSigupFormats/SigninSigupFormat/my-app/src/Pages/images/eler.jpg';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './index.css'\r\nimport { toast } from 'react-toastify'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router'\r\nimport { URL } from '../../config'\r\nimport './index.css'\r\nimport Navibar from '../../Components/Navbar/Navibar';\r\nimport \"../Signin/style.css\"\r\nimport validation from \"../Signin/validation\";\r\n\r\nconst Signin = () => {\r\n  // const [user_id, setUserId] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [role, setRole] = useState('')\r\n  const [errors, setErrors] = useState({});\r\n  const [dataIsCorrect, setDataIsCorrect] = useState(false);\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const signinUser = (event) => {\r\n    event.preventDefault();\r\n    setDataIsCorrect(true);\r\n    setErrors(validation(event.target.value))\r\n     {\r\n      const body = {\r\n        email,\r\n        password,\r\n        role,\r\n      }\r\n\r\n      // url to make signin api call\r\n      const url = `${URL}/user/signin`\r\n\r\n      // make api call using axios\r\n      axios.post(url, body).then((response) => {\r\n        // get the server result\r\n        const result = response.data\r\n        console.log(result)\r\n        if (result['status'] == 'success') {\r\n          toast.success('Welcome to the application')\r\n\r\n          // get the data sent by server\r\n          const { user_id, email, password, role } = result['data']\r\n\r\n          // persist the logged in user's information for future use\r\n          sessionStorage['id'] = user_id\r\n          sessionStorage['email'] = email\r\n          sessionStorage['password'] = password\r\n          sessionStorage['loginStatus'] = 1\r\n\r\n\r\n          // navigate to home component\r\n          if (role === 'STUDENT') {\r\n            console.log('usercourses')\r\n            navigate(\"/usercourses\")\r\n          } else if (role === 'ADMIN') {\r\n            navigate('/admin')\r\n          }\r\n\r\n        } else {\r\n          toast.error('Invalid user name or password')\r\n        }\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <Navibar />\r\n      {/* {dataAdded && <h3 class=\"alert alartbox alert-primary\" role=\"alert\">{dataAdded}</h3>} */}\r\n      <div className='login-wrapper'>\r\n        <div className='login-app-wrapper'>\r\n          <div>\r\n            <h2 className='title'>Log in</h2>\r\n          </div>\r\n          <form className='form-wrapper'>\r\n            <div className='email'>\r\n              <label className='label'>Email</label>\r\n              <input className='input' type='text' onChange={(e) => {\r\n                setEmail(e.target.value)\r\n              }} />\r\n              {errors.email && <p className='error'>{errors.email}</p>}\r\n            </div>\r\n            <div className='name'>\r\n              <label className='label'>Password</label>\r\n              <input className='input' type='password' onChange={(e) => {\r\n                setPassword(e.target.value)\r\n              }} />\r\n              {errors.password && <p className='error'>{errors.password}</p>}\r\n            </div>\r\n            <div>\r\n              <button className='login-button' onClick={signinUser}>Log in</button>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <Link to=\"/forgotpassword\">forget password?</Link>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              New User? Register here <Link to=\"/signup\">Register Now</Link>\r\n            </div>\r\n\r\n            <div>\r\n              <Link to=\"/\">Home</Link>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n  // return (\r\n\r\n  //   <div class=\"signin\">\r\n  //     <Navibar />\r\n\r\n  //     <h1>Signin</h1>\r\n  //     <br></br>\r\n\r\n  //     <div className=\"row\">\r\n  //       <div className=\"col\"></div>\r\n  //       <div className=\"col\">\r\n  //         <div className=\"form shadow\">\r\n  //           <div className=\"mb-3\">\r\n  //             <label htmlFor=\"\" className=\"label-control\">\r\n  //               Email address\r\n  //             </label>\r\n  //             <input\r\n  //               onChange={(e) => {\r\n  //                 setEmail(e.target.value)\r\n  //               }}\r\n  //               type=\"text\"\r\n  //               className=\"form-control\"\r\n  //             />\r\n  //           </div>\r\n\r\n  //           <div className=\"mb-3\">\r\n  //             <label htmlFor=\"\" className=\"label-control\">\r\n  //               Password\r\n  //             </label>\r\n  //             <input\r\n  //               onChange={(e) => {\r\n  //                 setPassword(e.target.value)\r\n  //               }}\r\n  //               type=\"password\"\r\n  //               className=\"form-control\"\r\n  //             />\r\n  //           </div>\r\n\r\n  //           <div className=\"mb-3\">\r\n  //             <div>\r\n  //               No account yet? <Link to=\"/signup\">Signup here</Link>\r\n  //             </div>\r\n  //             <br></br>\r\n  //             <div>\r\n  //               <Link to=\"/forgotpassword\">forgot password? </Link>\r\n  //             </div>\r\n  //             <br></br>\r\n  //             <div>\r\n  //               <Link to=\"/\">Home Page</Link>\r\n  //             </div>\r\n  //             <br></br>\r\n  //             <button onClick={signinUser} className=\"btn btn-primary\">\r\n  //               Signin\r\n  //             </button>\r\n  //           </div>\r\n  //         </div>\r\n  //       </div>\r\n  //       <div className=\"col\"></div>\r\n  //     </div>\r\n  //   </div>\r\n  // )\r\n}\r\n\r\nexport default Signin"]},"metadata":{},"sourceType":"module"}