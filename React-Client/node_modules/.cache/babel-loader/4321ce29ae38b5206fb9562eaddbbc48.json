{"ast":null,"code":"import _slicedToArray from\"D:/Final_Project/PGDAC/PGDAC-Final-E-Learning-Frontend/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Link}from'react-router-dom';import'./index.css';import{toast}from'react-toastify';import axios from'axios';import{useNavigate}from'react-router';import{URL}from'../../config';import AfterLogNavibar from'../../Components/Navbar/AfterLogNavibar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateProfile=function UpdateProfile(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),mobilenumber=_useState4[0],setMobileNumber=_useState4[1];var navigate=useNavigate();var updateprofile=function updateprofile(){if(mobilenumber.length==0){toast.warning('please enter your New Mobile Number');}else{var body={email:email,mobilenumber:mobilenumber};// url to make updateprofile api call\nvar url=\"\".concat(URL,\"/user/updateprofile\");// make api call using axios\naxios.post(url,body).then(function(response){// get the server result\nvar result=response.data;console.log(result);if(result['status']=='success'){toast.success('Profile Updated');// get the data sent by server\nvar _result$data=result['data'],_email=_result$data.email,_mobilenumber=_result$data.mobilenumber,adharNo=_result$data.adharNo;// persist the logged in user's information for future use\nsessionStorage['email']=_email;sessionStorage['mobilenumber']=_mobilenumber;// navigate to profile component\nnavigate('/profile');}else{toast.error('Data not get updated');}});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AfterLogNavibar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Update Profile\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",className:\"label-control\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setEmail(e.target.value);},type:\"text\",className:\"form-control\",required:true,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",className:\"label-control\",children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setMobileNumber(e.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:updateprofile,className:\"btn btn-primary\",children:\"Update Profile\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Back To Profile  \",/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"click here\"})]}),/*#__PURE__*/_jsx(\"br\",{})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\"})]})]});};export default UpdateProfile;","map":{"version":3,"sources":["D:/Final_Project/PGDAC/PGDAC-Final-E-Learning-Frontend/my-app/src/Pages/UpdateProfile/index.js"],"names":["useState","Link","toast","axios","useNavigate","URL","AfterLogNavibar","UpdateProfile","email","setEmail","mobilenumber","setMobileNumber","navigate","updateprofile","length","warning","body","url","post","then","response","result","data","console","log","success","adharNo","sessionStorage","error","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './index.css'\r\nimport { toast } from 'react-toastify'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router'\r\nimport { URL } from '../../config'\r\nimport AfterLogNavibar from '../../Components/Navbar/AfterLogNavibar'\r\n\r\nconst UpdateProfile = () => {\r\n  const [email, setEmail] = useState('')\r\n   const [mobilenumber, setMobileNumber] = useState('')\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const updateprofile = () => {\r\n    if (mobilenumber.length == 0) {\r\n        toast.warning('please enter your New Mobile Number')\r\n    }  else {\r\n      const body = {\r\n        email,\r\n        mobilenumber,\r\n            }\r\n\r\n      // url to make updateprofile api call\r\n      const url = `${URL}/user/updateprofile`\r\n\r\n      // make api call using axios\r\n      axios.post(url, body).then((response) => {\r\n        // get the server result\r\n        const result = response.data\r\n        console.log(result)\r\n        if (result['status'] == 'success') {\r\n          toast.success('Profile Updated')\r\n\r\n          // get the data sent by server\r\n          const { email,mobilenumber,adharNo } = result['data']\r\n\r\n          // persist the logged in user's information for future use\r\n          sessionStorage['email'] = email\r\n          sessionStorage['mobilenumber'] = mobilenumber\r\n          \r\n          // navigate to profile component\r\n          navigate('/profile')\r\n        } else {\r\n          toast.error('Data not get updated')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    <AfterLogNavibar/>\r\n      <br></br>\r\n      <br></br>\r\n      <br></br>\r\n      <h1>Update Profile</h1>\r\n      <br></br>\r\n     \r\n      <div className=\"row\">\r\n        <div className=\"col\"></div>\r\n        <div className=\"col\">\r\n          <div className=\"form\">\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"\" className=\"label-control\">\r\n                Email address\r\n              </label>\r\n              <input\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value)\r\n                }}\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                required = {true} \r\n                readOnly = {true}\r\n              />\r\n            </div>\r\n\r\n                      <div className=\"mb-3\">\r\n              <label htmlFor=\"\" className=\"label-control\">\r\n             Mobile Number\r\n              </label>\r\n              <input\r\n                onChange={(e) => {\r\n                    setMobileNumber(e.target.value)\r\n                }}\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n\r\n                        \r\n            <div className=\"mb-3\">\r\n              <button onClick={updateprofile} className=\"btn btn-primary\">\r\n                Update Profile  \r\n              </button>\r\n              <br></br>\r\n              <br></br>\r\n              <div>\r\n               Back To Profile  <Link to=\"/profile\">click here</Link>\r\n              </div>\r\n              <br></br>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateProfile"]},"metadata":{},"sourceType":"module"}